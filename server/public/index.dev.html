<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
   </head>
   <style>
*,
*:before,
*:after {
   -webkit-box-sizing: border-box;
   -moz-box-sizing: border-box;
   box-sizing: border-box;
}
body,
html {
   margin: 0;
   padding: 0;
   height: 100%;
   font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}
#iframe {
position: absolute;
top: 0;
right: 0;
bottom: 0;
left: 0;
width: 100%;
height: 100%;
border: 0;
}
   </style>
   <body>
      <iframe id="iframe" frameborder="0" src='' id="previewIframe" title="AMP Playground Output" allowpaymentrequest="" sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-presentation allow-top-navigation" allowfullscreen="true"
      >Ваш браузер не поддерживает плавающие фреймы!</iframe>
   </body>
   <script src="/socket.io/socket.io.js"></script>
   <script>
   var getRemoteLocation = function(port){
      return location.protocol+'//'+location.hostname +':' + port + window.location.pathname + + window.location.search + "#development=1"
   }
   document.getElementById('iframe').src = getRemoteLocation('<%= port %>');

   var url = location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '');
   var socket = io.connect(url);
   socket.on('reload', function (data) {
      document.location.reload(true);
   });
   </script>
</html>